{% load i18n %}

<div class="layout-switcher position-fixed top-0 end-0 m-3" style="z-index: 1040; background: rgba(255, 255, 255, 0.95); padding: 15px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); min-width: 300px; border: 2px solid #0d6efd; pointer-events: none;">
  <div class="mb-2">
    <small class="text-muted d-block mb-1">
      <strong>Layout Switcher</strong>
      {% if request.session.homepage_layout %}
        <span class="badge bg-success ms-2">Saved: {{ request.session.homepage_layout|upper }}</span>
      {% endif %}
      {% if user.is_staff or user.is_superuser %}
        <span class="badge bg-info ms-2">Dev Mode</span>
      {% elif debug %}
        <span class="badge bg-warning ms-2">DEBUG</span>
      {% endif %}
    </small>
  </div>
  <div class="btn-group-vertical w-100" role="group" aria-label="Layout switcher">
    <div class="btn-group mb-1" role="group">
      <a href="?layout=v0" class="btn btn-sm {% if layout == 'v0' %}btn-primary{% else %}btn-outline-primary{% endif %}">
        Original
      </a>
      <a href="?layout=v1" class="btn btn-sm {% if layout == 'v1' %}btn-primary{% else %}btn-outline-primary{% endif %}">
        V1: Vertical
      </a>
    </div>
    <div class="btn-group mb-1" role="group">
      <a href="?layout=v2" class="btn btn-sm {% if layout == 'v2' %}btn-primary{% else %}btn-outline-primary{% endif %}">
        V2: Horizontal
      </a>
      <a href="?layout=v3" class="btn btn-sm {% if layout == 'v3' %}btn-primary{% else %}btn-outline-primary{% endif %}">
        V3: Wizard
      </a>
    </div>
    {% if request.session.homepage_layout %}
      <a href="?layout=reset" class="btn btn-sm btn-outline-danger w-100">
        <i class="bi bi-arrow-counterclockwise"></i> Reset to Default
      </a>
    {% endif %}
  </div>
  <div class="mt-2">
    <small class="text-muted">
      <em>Your preference is saved in this session</em>
    </small>
  </div>
</div>

